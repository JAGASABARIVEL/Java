{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../carts/carts.component\";\nfunction ProductsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 4)(2, \"div\", 5)(3, \"div\", 6)(4, \"div\", 7)(5, \"div\", 0)(6, \"div\", 8)(7, \"div\", 9);\n    i0.ɵɵelement(8, \"img\", 10);\n    i0.ɵɵelementStart(9, \"a\", 11)(10, \"div\", 12);\n    i0.ɵɵelement(11, \"div\", 13);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"div\", 14)(13, \"h5\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 15)(16, \"div\", 16);\n    i0.ɵɵelement(17, \"i\", 17)(18, \"i\", 17)(19, \"i\", 17)(20, \"i\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"span\");\n    i0.ɵɵtext(22, \"310\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 18)(24, \"span\");\n    i0.ɵɵtext(25, \"100% cotton\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"span\", 19);\n    i0.ɵɵtext(27, \" \\u2022 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"span\");\n    i0.ɵɵtext(29, \"Light weight\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"span\", 19);\n    i0.ɵɵtext(31, \" \\u2022 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"span\");\n    i0.ɵɵtext(33, \"Best finish\");\n    i0.ɵɵelement(34, \"br\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\", 20)(36, \"span\");\n    i0.ɵɵtext(37, \"Unique design\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"span\", 19);\n    i0.ɵɵtext(39, \" \\u2022 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"span\");\n    i0.ɵɵtext(41, \"For men\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"span\", 19);\n    i0.ɵɵtext(43, \" \\u2022 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"span\");\n    i0.ɵɵtext(45, \"Casual\");\n    i0.ɵɵelement(46, \"br\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"p\", 21);\n    i0.ɵɵtext(48, \" There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(49, \"div\", 22)(50, \"div\", 23)(51, \"h4\", 24);\n    i0.ɵɵtext(52);\n    i0.ɵɵpipe(53, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"span\", 25)(55, \"s\");\n    i0.ɵɵtext(56);\n    i0.ɵɵpipe(57, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(58, \"h6\", 26);\n    i0.ɵɵtext(59, \"Free shipping\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"div\", 27)(61, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_3_Template_button_click_61_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onDetail($event));\n    });\n    i0.ɵɵtext(62, \"Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_3_Template_button_click_63_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.addToCart($event));\n    });\n    i0.ɵɵtext(64, \" Add to Cart \");\n    i0.ɵɵelementEnd()()()()()()()()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"src\", product_r2.pImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(product_r2.pName);\n    i0.ɵɵadvance(38);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(53, 6, product_r2.pPrice, \"INR\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(57, 9, 6, \"INR\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"id\", product_r2.pId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", product_r2.pId);\n  }\n}\nfunction ProductsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelement(1, \"app-carts\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cart\", ctx_r1.carts);\n  }\n}\nexport class ProductsComponent {\n  constructor(productService, router) {\n    this.productService = productService;\n    this.router = router;\n    this.carts = [];\n    this.product_collen = \"col-sm-12\";\n  }\n  ngOnInit() {\n    this.productService.getProducts().subscribe(response => {\n      this.products = response;\n      console.log(this.products);\n    });\n    this.productService.eventEmitter.subscribe(collen => {\n      this.product_collen = collen;\n    });\n    this.productService.getCarts().subscribe(response => {\n      this.carts = response;\n    });\n    console.log(this.products);\n  }\n  updateCollen() {\n    this.product_collen = this.carts.length > 0 ? \"col-sm-6\" : \"col-sm-12\";\n  }\n  addToCart($event) {\n    let pId = Number($event.target.id);\n    let product;\n    this.productService.getCarts().subscribe(response => {\n      this.carts = response;\n      this.updateCollen();\n    });\n    if (this.carts.find(product_id => product_id.pId === pId)) {\n      return;\n    } else {\n      console.log(\"addToCart \" + pId);\n      this.productService.getProductById(pId).subscribe(response => {\n        console.log(\"cart respo \" + response.pId);\n        product = response;\n        console.log(\"product cart \" + product.pId);\n      });\n      this.productService.setCarts(product).subscribe(() => {\n        console.log(\"Product added to cart\");\n        this.carts.push(product);\n        this.updateCollen();\n      });\n    }\n  }\n  onDetail($event) {\n    this.router.navigate(['./product-detail'], {\n      queryParams: {\n        'product': $event.target.id\n      }\n    });\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  decls: 5,\n  vars: 5,\n  consts: [[1, \"row\"], [2, \"background-color\", \"#eeeeee00\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-sm-6\", 4, \"ngIf\"], [1, \"row\", \"justify-content-center\", \"mb-3\"], [1, \"col-md-12\", \"col-xl-12\"], [1, \"card\", \"shadow-0\", \"border\", \"rounded-3\"], [1, \"card-body\"], [1, \"col-md-12\", \"col-lg-3\", \"col-xl-3\", \"mb-4\", \"mb-lg-0\"], [1, \"bg-image\", \"hover-zoom\", \"ripple\", \"rounded\", \"ripple-surface\"], [1, \"w-100\", 3, \"src\"], [\"href\", \"#!\"], [1, \"hover-overlay\"], [1, \"mask\", 2, \"background-color\", \"rgb(253, 253, 253)\"], [1, \"col-md-6\", \"col-lg-6\", \"col-xl-6\"], [1, \"d-flex\", \"flex-row\"], [1, \"text-danger\", \"mb-1\", \"me-2\"], [1, \"fa\", \"fa-star\"], [1, \"mt-1\", \"mb-0\", \"text-muted\", \"small\"], [1, \"text-primary\"], [1, \"mb-2\", \"text-muted\", \"small\"], [1, \"text-truncate\", \"mb-4\", \"mb-md-0\"], [1, \"col-md-6\", \"col-lg-3\", \"col-xl-3\", \"border-sm-start-none\", \"border-start\"], [1, \"d-flex\", \"flex-row\", \"align-items-center\", \"mb-1\"], [1, \"mb-1\", \"me-1\"], [1, \"text-danger\"], [1, \"text-success\"], [1, \"d-flex\", \"flex-column\", \"mt-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-danger\", \"text-uppercase\", \"mr-2\", \"px-4\", \"mt-2m\", 3, \"id\", \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-danger\", \"text-uppercase\", \"mr-2\", \"px-4\", \"mt-2\", 3, \"id\", \"click\"], [1, \"col-sm-6\"], [3, \"cart\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"section\", 1);\n      i0.ɵɵtemplate(3, ProductsComponent_div_3_Template, 65, 12, \"div\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, ProductsComponent_div_4_Template, 2, 1, \"div\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵclassMap(ctx.product_collen);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.carts.length > 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.CartsComponent, i3.CurrencyPipe],\n  styles: [\"@media (max-width: 767.98px) { .border-sm-start-none[_ngcontent-%COMP%] { border-left: none !important; } }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9wcm9kdWN0cy9wcm9kdWN0cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtCQUErQix3QkFBd0IsNEJBQTRCLEVBQUUsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbIkBtZWRpYSAobWF4LXdpZHRoOiA3NjcuOThweCkgeyAuYm9yZGVyLXNtLXN0YXJ0LW5vbmUgeyBib3JkZXItbGVmdDogbm9uZSAhaW1wb3J0YW50OyB9IH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductsComponent","constructor","productService","router","ngOnInit","getProducts","subscribe","response","products","console","log","eventEmitter","collen","product_collen","getCarts","carts","updateCollen","length","addToCart","$event","pId","Number","target","id","product","find","product_id","getProductById","setCarts","push","onDetail","navigate","queryParams","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Jagasabarivel K\\OneDrive - Dell Technologies\\Documents\\Simplilearn\\ui\\src\\app\\home\\products\\products.component.html","C:\\Users\\Jagasabarivel K\\OneDrive - Dell Technologies\\Documents\\Simplilearn\\ui\\src\\app\\home\\products\\products.component.ts"],"sourcesContent":["\n<div class=\"row\">\n    <div class={{product_collen}}>\n      <section style=\"background-color: #eeeeee00;\">\n        <div *ngFor=\"let product of products\">\n            <div class=\"row justify-content-center mb-3\">\n              <div class=\"col-md-12 col-xl-12\">\n                <div class=\"card shadow-0 border rounded-3\">\n                  <div class=\"card-body\">\n                    <div class=\"row\">\n                      <div class=\"col-md-12 col-lg-3 col-xl-3 mb-4 mb-lg-0\">\n                        <div class=\"bg-image hover-zoom ripple rounded ripple-surface\">\n                          <img [src]=\"product.pImage\"\n                            class=\"w-100\" />\n                          <a href=\"#!\">\n                            <div class=\"hover-overlay\">\n                              <div class=\"mask\" style=\"background-color: rgb(253, 253, 253);\"></div>\n                            </div>\n                          </a>\n                        </div>\n                      </div>\n                      <div class=\"col-md-6 col-lg-6 col-xl-6\">\n                        <h5>{{product.pName}}</h5>\n                        <div class=\"d-flex flex-row\">\n                          <div class=\"text-danger mb-1 me-2\">\n                            <i class=\"fa fa-star\"></i>\n                            <i class=\"fa fa-star\"></i>\n                            <i class=\"fa fa-star\"></i>\n                            <i class=\"fa fa-star\"></i>\n                          </div>\n                          <span>310</span>\n                        </div>\n                        <div class=\"mt-1 mb-0 text-muted small\">\n                          <span>100% cotton</span>\n                          <span class=\"text-primary\"> • </span>\n                          <span>Light weight</span>\n                          <span class=\"text-primary\"> • </span>\n                          <span>Best finish<br /></span>\n                        </div>\n                        <div class=\"mb-2 text-muted small\">\n                          <span>Unique design</span>\n                          <span class=\"text-primary\"> • </span>\n                          <span>For men</span>\n                          <span class=\"text-primary\"> • </span>\n                          <span>Casual<br /></span>\n                        </div>\n                        <p class=\"text-truncate mb-4 mb-md-0\">\n                          There are many variations of passages of Lorem Ipsum available, but the\n                          majority have suffered alteration in some form, by injected humour, or\n                          randomised words which don't look even slightly believable.\n                        </p>\n                      </div>\n                      <div class=\"col-md-6 col-lg-3 col-xl-3 border-sm-start-none border-start\">\n                        <div class=\"d-flex flex-row align-items-center mb-1\">\n                          <h4 class=\"mb-1 me-1\">{{product.pPrice | currency : 'INR'}}</h4>\n                          <span class=\"text-danger\"><s>{{6 | currency : 'INR'}}</s></span>\n                        </div>\n                        <h6 class=\"text-success\">Free shipping</h6>\n                        <div class=\"d-flex flex-column mt-4\">\n                          <button [id]=\"product.pId\" (click)=\"onDetail($event)\" class=\"btn btn-sm btn-danger text-uppercase mr-2 px-4 mt-2m\" type=\"button\">Details</button>\n                          <button [id]=\"product.pId\" (click)=\"addToCart($event)\" class=\"btn btn-sm btn-danger text-uppercase mr-2 px-4 mt-2\" type=\"button\">\n                            Add to Cart\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            </div>\n        </section>\n    </div>\n    <div class=\"col-sm-6\" *ngIf=\"carts.length > 0\">\n      <app-carts [cart]=\"carts\"></app-carts>\n    </div>\n  </div>\n  \n    ","import { Component, OnInit } from '@angular/core';\nimport { Products } from '../../model/product.model';\nimport { ProductService } from '../../../service/product.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit {\n  products: Products[];\n  carts: Products[] = [];\n  product_collen: string = \"col-sm-12\";\n\n\n  constructor(private productService: ProductService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.productService.getProducts().subscribe((response: Products[]) => {\n      this.products = response;\n      console.log(this.products);\n\n    });\n    this.productService.eventEmitter.subscribe(collen => {\n      this.product_collen = collen\n    });\n    this.productService.getCarts().subscribe((response:Products[])=>{\n      this.carts = response;\n    })\n    console.log(this.products);\n  }\n\n  updateCollen() {\n    this.product_collen = this.carts.length > 0 ? \"col-sm-6\" : \"col-sm-12\";\n  }\n\n  addToCart($event: any) {\n    let pId = Number($event.target.id);\n    let product: Products;\n    this.productService.getCarts().subscribe((response:Products[])=>{\n      this.carts = response;\n      this.updateCollen();\n    })\n    if (this.carts.find(product_id => product_id.pId === pId)) {\n      return;\n    }\n    else {\n      console.log(\"addToCart \" + pId);\n      this.productService.getProductById(pId).subscribe((response) => {\n        console.log(\"cart respo \" + response.pId);\n        product = response;\n        console.log(\"product cart \" + product.pId);\n\n      });\n\n      this.productService.setCarts(product).subscribe(()=>{\n        console.log(\"Product added to cart\");\n        this.carts.push(product);\n        this.updateCollen();\n      })\n\n    }\n\n  }\n\n  onDetail($event) {\n    this.router.navigate(['./product-detail'], { queryParams: { 'product': $event.target.id } });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}